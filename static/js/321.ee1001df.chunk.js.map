{"version":3,"file":"static/js/321.ee1001df.chunk.js","mappings":"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","sources":["components/music/MusicSearch.js","components/music/Music.js","components/social/FriendsList.js","components/common/SidebarLayout.js","components/social/JoinChat.js","pages/SocialPage.js","components/music/spotifyPlayer.js","hooks/useMusicSearch.js","utils/imageUtils.js","components/common/Nav.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../../styles/MusicSearch.css\";\r\nimport Music from \"./Music\";\r\nimport useMusicSearch from \"../../hooks/useMusicSearch\";\r\n\r\nconst MusicSearch = ({ onSelectTrack }) => {\r\n    const {\r\n        keyword,\r\n        setKeyword,\r\n        results,\r\n        handleSearch,\r\n        isPremium,\r\n    } = useMusicSearch();\r\n\r\n    const [hasSearched, setHasSearched] = useState(false); // 검색 실행 여부 상태 추가\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        handleSearch();\r\n        setHasSearched(true); // 검색 실행 후 상태 업데이트\r\n    };\r\n\r\n    return (\r\n        <div className=\"music-search\">\r\n            {isPremium}\r\n            <form onSubmit={handleSubmit}> {/* 폼 제출 핸들러 변경 */}\r\n                <input\r\n                    className=\"music-search-input\"\r\n                    type=\"text\"\r\n                    value={keyword}\r\n                    onChange={(e) => setKeyword(e.target.value)}\r\n                    placeholder=\"음악 검색\"\r\n                />\r\n                <button type=\"submit\">🔎</button>\r\n            </form>\r\n            <div className=\"music-search-results\">\r\n                {!hasSearched && results.length === 0 ? ( // 검색 실행 여부와 결과 유무에 따라 조건부 렌더링\r\n                    <div className=\"music-search-placeholder\">검색어 입력...</div>\r\n                ) : (\r\n                    results.map((track, index) => (\r\n                        <div key={track.id} onClick={() => onSelectTrack(track)}>\r\n                            <Music \r\n                                track={track}\r\n                                isPremium={isPremium} \r\n                            />\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MusicSearch;","import React, { useState, useRef, useCallback, useContext } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport axiosInstance from \"../../api/axiosInstance\";\r\nimport \"../../styles/Music.css\";\r\nimport useUserInfo from \"../../hooks/useUserInfo\";\r\nimport { getImageUrl } from \"../../utils/imageUtils\";\r\nimport { TrackContext } from '../../context/TrackContext';\r\n\r\n// PlaylistItem 컴포넌트 분리 및 메모이제이션\r\nconst PlaylistItem = React.memo(({ playlist, isChecked, onCheck }) => (\r\n    <div className=\"playlist-modal-item\">\r\n        <input\r\n            type=\"checkbox\"\r\n            id={`playlist-${playlist.playlistId}`}\r\n            checked={isChecked}\r\n            onChange={() => onCheck(playlist.playlistId)}\r\n        />\r\n        <label htmlFor={`playlist-${playlist.playlistId}`} className=\"playlist-modal-label\">\r\n            <div className=\"playlist-modal-image-container\">\r\n                <img \r\n                    src={getImageUrl(playlist.playlistPhoto)} \r\n                    alt={playlist.playlistTitle} \r\n                    className=\"playlist-modal-image\" \r\n                />\r\n            </div>\r\n            <span className=\"playlist-modal-name\">{playlist.playlistTitle}</span>\r\n        </label>\r\n    </div>\r\n));\r\n\r\n// PlaylistModal 컴포넌트 분리 및 메모이제이션\r\nconst PlaylistModal = React.memo(({ playlists, selectedPlaylists, loading, onCheck, onClose, onAdd }) => (\r\n    <div className=\"playlist-modal-overlay\" onClick={onClose}>\r\n        <div className=\"playlist-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"playlist-modal-header\">\r\n                <h3>플레이리스트에 추가</h3>\r\n                <button className=\"playlist-modal-close\" onClick={onClose}>&times;</button>\r\n            </div>\r\n            <div className=\"playlist-modal-body\">\r\n                {loading ? (\r\n                    <p>플레이리스트를 불러오는 중...</p>\r\n                ) : playlists.length === 0 ? (\r\n                    <p>사용 가능한 플레이리스트가 없습니다.</p>\r\n                ) : (\r\n                    <div className=\"playlist-modal-list\">\r\n                        {playlists.map(playlist => (\r\n                            <PlaylistItem\r\n                                key={playlist.playlistId}\r\n                                playlist={playlist}\r\n                                isChecked={selectedPlaylists.includes(playlist.playlistId)}\r\n                                onCheck={onCheck}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div className=\"playlist-modal-footer\">\r\n                <button \r\n                    className=\"add-to-playlist-button\" \r\n                    onClick={onAdd}\r\n                    disabled={selectedPlaylists.length === 0 || loading}\r\n                >\r\n                    플레이리스트에 추가\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n));\r\n\r\nconst Music = ({ track, isPremium }) => {\r\n    const [tooltipStyle, setTooltipStyle] = useState({});\r\n    const [showPlaylistModal, setShowPlaylistModal] = useState(false);\r\n    const [playlists, setPlaylists] = useState([]);\r\n    const [selectedPlaylists, setSelectedPlaylists] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const { addTrackToList, setIsPlaying, deviceReady } = useContext(TrackContext);\r\n    \r\n    const playlistsLoadedRef = useRef(false);\r\n    const userInfo = useUserInfo();\r\n    \r\n    const handleMouseEnter = (e) => {\r\n        const rect = e.currentTarget.getBoundingClientRect();\r\n        setTooltipStyle({\r\n            top: `${rect.top - 10}px`,\r\n            left: `${rect.left + rect.width / 2}px`,\r\n        });\r\n    };\r\n\r\n    const handleMouseLeave = () => {\r\n        setTooltipStyle({});\r\n    };\r\n\r\n    const fetchPlaylists = async (userId) => {\r\n        if (!userId || playlistsLoadedRef.current) return;\r\n        \r\n        setLoading(true);\r\n        try {\r\n            const response = await axiosInstance.get(`/playlist/user/${userId}`);\r\n            setPlaylists(response.data || []);\r\n            playlistsLoadedRef.current = true;\r\n        } catch (error) {\r\n            console.error(\"플레이리스트를 불러오는 데 실패했습니다:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAddToPlaylist = () => {\r\n        setShowPlaylistModal(true);\r\n        if (userInfo && !playlistsLoadedRef.current) {\r\n            fetchPlaylists(userInfo.userId);\r\n        }\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setShowPlaylistModal(false);\r\n        setSelectedPlaylists([]);\r\n    };\r\n\r\n    const handlePlaylistCheck = useCallback((playlistId) => {\r\n        setSelectedPlaylists(prevSelected => {\r\n            if (prevSelected.includes(playlistId)) {\r\n                return prevSelected.filter(id => id !== playlistId);\r\n            } else {\r\n                return [...prevSelected, playlistId];\r\n            }\r\n        });\r\n    }, []);\r\n\r\n    const handleAddTracksToPlaylists = async () => {\r\n        if (selectedPlaylists.length === 0) {\r\n            alert(\"플레이리스트를 선택해주세요.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const promises = selectedPlaylists.map(playlistId => \r\n                axiosInstance.post(`/api/spotify/playlist/${playlistId}/track`, null, {\r\n                    params: { trackId: track.id }\r\n                })\r\n            );\r\n            \r\n            await Promise.all(promises);\r\n            alert(\"선택한 플레이리스트에 트랙이 추가되었습니다.\");\r\n            handleCloseModal();\r\n        } catch (error) {\r\n            console.error(\"플레이리스트에 트랙 추가 실패:\", error);\r\n            alert(\"플레이리스트에 트랙 추가 중 오류가 발생했습니다.\");\r\n        }\r\n    };\r\n\r\n    const handlePlayClick = async (track) => {\r\n        if (isPremium) {\r\n            try {\r\n                addTrackToList(track); // 트랙을 리스트에 추가\r\n                if (deviceReady) {\r\n                    setIsPlaying(true);\r\n                } else {\r\n                    if(!deviceReady){\r\n                        setTimeout(() => {\r\n                            setIsPlaying(true);\r\n                        }, 1000);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error(\"트랙 재생 중 오류:\", error);\r\n                if (error.response?.status === 403) {\r\n                    // 403 오류 발생 시 링크로 이동\r\n                    window.open(track.external_urls.spotify, '_blank');\r\n                    return;\r\n                } else if (error.response?.status === 404) {\r\n                    alert('Spotify 플레이어를 초기화 중입니다. 잠시 후에 다시 시도해주세요.');\r\n                } else {\r\n                    alert('트랙을 재생할 수 없습니다. 다시 시도해주세요.');\r\n                }\r\n            }\r\n        } else {\r\n            window.open(track.external_urls.spotify, '_blank');\r\n        }\r\n    };\r\n\r\n    return (\r\n        // 렌더링 부분은 동일하게 유지\r\n        track && track.album && track.album.images && track.album.images[0] ? (\r\n            <div key={track.id} className=\"track-item\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\r\n                <img className=\"track-album-image-music\" src={track.album.images[0].url} alt={track.name} />\r\n                <div className=\"track-info\">\r\n                    <h4>{track.name}</h4>\r\n                    <p>{track.artists.map((artist) => artist.name).join(\", \")}</p>\r\n                    <div className=\"tooltip\" style={tooltipStyle}>\r\n                        <h4>{track.name}</h4>\r\n                        <p>{track.artists.map((artist) => artist.name).join(\", \")}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"track-play-button-container\">\r\n                    <button\r\n                        onClick={() => handlePlayClick(track)}\r\n                        className={isPremium ? \"premium-play\" : \"spotify-link\"}\r\n                    >\r\n                        {isPremium ? \"▶\" : \"LINK\"}\r\n                    </button>\r\n                    <button className=\"add-track-to-playlist-button\" onClick={handleAddToPlaylist}>\r\n                        ➕\r\n                    </button>\r\n                </div>\r\n\r\n                {showPlaylistModal && ReactDOM.createPortal(\r\n                    <PlaylistModal \r\n                        playlists={playlists}\r\n                        selectedPlaylists={selectedPlaylists}\r\n                        loading={loading}\r\n                        onCheck={handlePlaylistCheck}\r\n                        onClose={handleCloseModal}\r\n                        onAdd={handleAddTracksToPlaylists}\r\n                    />,\r\n                    document.body\r\n                )}\r\n            </div>\r\n        ) : null\r\n    );\r\n};\r\n\r\nexport default Music;","import React, { useState, useEffect } from \"react\";\r\nimport axiosInstance from \"../../api/axiosInstance\";\r\nimport useUserInfo from \"../../hooks/useUserInfo\";\r\nimport \"../../styles/FriendsList.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst FriendsList = () => {\r\n    const navigate = useNavigate();\r\n\r\n    const [friends, setFriends] = useState([]);\r\n    const [friendRequests, setFriendRequests] = useState([]);\r\n    const [pendingRequests, setPendingRequests] = useState([]);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [searchKeyword, setSearchKeyword] = useState(\"\");\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [activeTab, setActiveTab] = useState(\"search\"); // 'search', 'pending', 'requests'\r\n    const userInfo = useUserInfo();\r\n\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            fetchFriends();\r\n            fetchFriendRequests();\r\n            fetchPendingRequests();\r\n        }\r\n    }, [userInfo]);\r\n\r\n    const fetchFriends = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/friends/list?userId=${userInfo.id}`);\r\n            setFriends(response.data);\r\n        } catch (error) {\r\n            console.error(\"친구 목록을 가져오는 데 실패했습니다.\", error);\r\n        }\r\n    };\r\n\r\n    const fetchFriendRequests = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/friends/friendRequests?friendId=${userInfo.id}`);\r\n            setFriendRequests(response.data);\r\n        } catch (error) {\r\n            console.error(\"친구 요청 목록을 가져오는 데 실패했습니다.\", error);\r\n        }\r\n    };\r\n\r\n    const fetchPendingRequests = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/friends/pendingRequests?userId=${userInfo.id}`);\r\n            setPendingRequests(response.data);\r\n        } catch (error) {\r\n            console.error(\"내가 요청한 친구 목록을 가져오는 데 실패했습니다.\", error);\r\n        }\r\n    };\r\n\r\n    const handleSearch = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/friends/search?keyword=${searchKeyword}`);\r\n            setSearchResults(response.data);\r\n        } catch (error) {\r\n            console.error(\"사용자 검색에 실패했습니다.\", error);\r\n        }\r\n    };\r\n\r\n    const handleAddFriend = async (friendId) => {\r\n        try {\r\n            await axiosInstance.post(\"/friends/add\", { userId: userInfo.id, friendId });\r\n            fetchFriends();\r\n            fetchPendingRequests();\r\n        } catch (error) {\r\n            console.error(\"친구 추가에 실패했습니다.\", error);\r\n        }\r\n    };\r\n\r\n    const handleAcceptFriendRequest = async (friendRequestId) => {\r\n        try {\r\n            await axiosInstance.post(\"/friends/accept\", null, { params: { friendRequestId } });\r\n            fetchFriends();\r\n            fetchFriendRequests();\r\n        } catch (error) {\r\n            console.error(\"친구 요청 수락에 실패했습니다.\", error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteFriend = async (friendId, event) => {\r\n        event.stopPropagation(); // 이벤트 버블링 막기\r\n        try {\r\n            await axiosInstance.delete(\"/friends/delete\", { params: { userId: userInfo.id, friendId } });\r\n            fetchFriends();\r\n        } catch (error) {\r\n            console.error(\"친구 삭제에 실패했습니다.\", error);\r\n        }\r\n    };\r\n\r\n    const isFriendOrRequested = (userId) => {\r\n        return friends.some(friend => friend.friend.id === userId) || \r\n               friendRequests.some(request => request.user.id === userId) ||\r\n               pendingRequests.some(request => request.friend.id === userId);\r\n    };\r\n\r\n    const handleFriendClick = (friend) => {\r\n        navigate(\"/playlistPage\", { state: { friendInfo: friend } });\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"friends-list-container\">\r\n                <h2>친구 목록</h2>\r\n                <button onClick={() => setShowModal(true)} className=\"add-friend-button\">친구 추가</button>\r\n                <div className=\"friends-list\">\r\n                    {friends.map((friend) => (\r\n                        <div key={friend.id} className=\"friend-item\" onClick={() => handleFriendClick(friend.friend.id === userInfo.id ? friend.user : friend.friend)}>\r\n                            <p>\r\n                                <strong>친구 별명 :</strong> {friend.friend.id === userInfo.id ? friend.user.nickname : friend.friend.nickname}\r\n                            </p>\r\n                            <button className=\"friend-delete-button\" onClick={(event) => handleDeleteFriend(friend.friend.id, event)}>❌</button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {showModal && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <span className=\"close\" onClick={() => setShowModal(false)}>&times;</span>\r\n                        <div className=\"modal-tabs\">\r\n                            <button \r\n                                className={`modal-tab-button ${activeTab === \"search\" ? \"active\" : \"\"}`}\r\n                                onClick={() => setActiveTab(\"search\")}\r\n                            >\r\n                                친구 검색\r\n                            </button>\r\n                            <button \r\n                                className={`modal-tab-button ${activeTab === \"pending\" ? \"active\" : \"\"}`}\r\n                                onClick={() => setActiveTab(\"pending\")}\r\n                            >\r\n                                요청한 목록\r\n                            </button>\r\n                            <button \r\n                                className={`modal-tab-button ${activeTab === \"requests\" ? \"active\" : \"\"}`}\r\n                                onClick={() => setActiveTab(\"requests\")}\r\n                            >\r\n                                받은 친구 요청\r\n                            </button>\r\n                        </div>\r\n\r\n                        {activeTab === \"search\" && (\r\n                            <div className=\"friendlist-search-tab\">\r\n                                <h2>친구 추가</h2>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"검색 (ID, 이메일, 닉네임)\"\r\n                                    value={searchKeyword}\r\n                                    onChange={(e) => setSearchKeyword(e.target.value)}\r\n                                />\r\n                                <button onClick={handleSearch}>검색</button>\r\n                                <div className=\"search-results\">\r\n                                    {searchResults.map((user) => (\r\n                                        <div key={user.id} className=\"search-result-item\">\r\n                                            <p>\r\n                                                <strong>ID:</strong> {user.id}\r\n                                            </p>\r\n                                            <p>\r\n                                                <strong>이메일:</strong> {user.email}\r\n                                            </p>\r\n                                            <p>\r\n                                                <strong>닉네임:</strong> {user.nickname}\r\n                                            </p>\r\n                                            <button \r\n                                                onClick={() => handleAddFriend(user.id)} \r\n                                                disabled={isFriendOrRequested(user.id)}\r\n                                            >\r\n                                                {isFriendOrRequested(user.id) ? \"요청됨\" : \"친구 추가\"}\r\n                                            </button>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === \"pending\" && (\r\n                            <div className=\"friendlist-pending-tab\">\r\n                                <h2>요청한 목록</h2>\r\n                                <div className=\"pending-requests-list\">\r\n                                    {pendingRequests.length === 0 ? (\r\n                                        <p>요청한 목록이 없습니다.</p>\r\n                                    ) : (\r\n                                        pendingRequests.map((request) => (\r\n                                            console.log(request),\r\n                                            <div key={request.id} className=\"pending-request-item\">\r\n                                                <p>\r\n                                                    <strong>요청한 사용자 ID:</strong> {request.friend.nickname}\r\n                                                </p>\r\n                                            </div>\r\n                                        ))\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === \"requests\" && (\r\n                            <div className=\"friendlist-requests-tab\">\r\n                                <h2>받은 친구 요청</h2>\r\n                                <div className=\"friend-requests-list\">\r\n                                    {friendRequests.length === 0 ? (\r\n                                        <p>받은 요청이 없습니다.</p>\r\n                                    ) : (\r\n                                        \r\n                                        friendRequests.map((request) => (\r\n                                            console.log(request),\r\n                                            <div key={request.id} className=\"friend-request-item\">\r\n                                                \r\n                                                <p>\r\n                                                    <strong>요청한 사용자:</strong> {request.user.nickname}\r\n                                                    <button className=\"accept-button\" onClick={() => handleAcceptFriendRequest(request.id)}>✅</button>\r\n                                                </p>\r\n                                            </div>\r\n                                        ))\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FriendsList;","import React from \"react\";\r\nimport MusicSearch from \"../music/MusicSearch\";\r\nimport \"../../styles/SidebarLayout.css\";\r\nimport FriendsList from \"../social/FriendsList\";\r\n\r\nconst SidebarLayout = ({ children }) => {\r\n    return (\r\n        <div className=\"sidebar-layout-layout\">\r\n            <div className=\"sidebar-layout-sidebar\">\r\n                <MusicSearch onSelectTrack={()=>{}}/>\r\n                <FriendsList />\r\n            </div>\r\n            <div className=\"sidebar-layout-main-content\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SidebarLayout;","import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../../styles/JoinChat.css\"; // 스타일 파일 추가 (필요시)\r\n\r\nconst JoinChat = ({ streamId }) => {\r\n    const navigate = useNavigate();\r\n\r\n    const handleJoinChat = () => {\r\n        if (streamId) {\r\n            navigate(`/chat/${streamId}`); // 채팅방 페이지로 이동\r\n        } else {\r\n            alert(\"채팅방 정보를 불러오지 못했습니다.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button className=\"join-button\" onClick={handleJoinChat}>\r\n            입장\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default JoinChat;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axiosInstance from \"../api/axiosInstance\";\r\nimport Header from \"../components/common/Header\";\r\nimport JoinChat from \"../components/social/JoinChat\"; // ✅ JoinChat 컴포넌트 추가\r\nimport Nav from \"../components/common/Nav\";\r\nimport defaultImage from \"../assets/defaultImage.png\"; \r\nimport SidebarLayout from \"../components/common/SidebarLayout\";\r\nimport \"../styles/SocialPage.css\";\r\n\r\n\r\nconst SocialPage = () => {\r\n    const [liveStreams, setLiveStreams] = useState([]);\r\n\r\n    // 🔄 스트리밍 목록 불러오기 함수\r\n    const fetchLiveStreams = () => {\r\n        axiosInstance.get(\"/api/streaming/live\")\r\n            .then(response => {\r\n                const modifiedData = response.data.map(stream => ({ ...stream, public: true }));\r\n                setLiveStreams(modifiedData);\r\n            })\r\n            .catch(error => console.error(\"❌ 스트리밍 목록 불러오기 실패:\", error));\r\n    };\r\n\r\n    // ✅ 20초마다 스트리밍 목록 갱신 (자동 새로고침)\r\n    useEffect(() => {\r\n        fetchLiveStreams(); // 최초 실행\r\n        const interval = setInterval(fetchLiveStreams, 40000); // 20초마다 갱신\r\n        return () => clearInterval(interval); // 컴포넌트 언마운트 시 정리\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"social-container\">\r\n            <Header />\r\n\r\n            <SidebarLayout>\r\n\r\n            <div className=\"social-layout-container\">\r\n                <div className=\"social-content\">\r\n                    <p className=\"textplace\">현재 진행 중인 스트리밍 채팅방 목록입니다.</p>\r\n                    <div className=\"streaming-list\">\r\n                        {liveStreams.length === 0 ? (\r\n                            <p className=\"textplace\">현재 진행 중인 스트리밍이 없습니다.</p>\r\n                        ) : (\r\n                            liveStreams.map(stream => (\r\n                                stream.public && ( // public이 true일 때만 표시\r\n                                <div className=\"ViewStyle\">  \r\n                                    <div key={stream.id} className=\"stream-card\">\r\n                                        <div className=\"grapplace\">\r\n                                            <div className=\"sectionleft\">   \r\n                                                <img src={defaultImage} alt=\"defaultImage\" id=\"defaultImageStyle\" />\r\n                                            </div> \r\n                                            <div className=\"sectionright\">   \r\n                                                <p id=\"TitlePlace\">{stream.playlist.playlistTitle}</p>\r\n                                                <h5 id=\"placebottom\">스트리밍 호스트 ID: {stream.hostUser.nickname}</h5>\r\n                                             </div> \r\n                                        </div>\r\n\r\n                                        <div className=\"chat-box\">\r\n                                            <p><strong>마지막 채팅:</strong> {stream.lastMessage ? stream.lastMessage : \"메시지가 없습니다.\"}</p>\r\n                                            \r\n                                            <JoinChat streamId={stream.id} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>      \r\n                                )\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                    \r\n                </div>\r\n                <Nav />\r\n            </div>\r\n            </SidebarLayout>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SocialPage;","import axios from 'axios';\r\n\r\nexport const transferPlayback = async (deviceId) => {\r\n    try {\r\n        const url = 'https://api.spotify.com/v1/me/player';\r\n        await axios.put(\r\n            url,\r\n            {\r\n                device_ids: [deviceId],\r\n                play: true\r\n            },\r\n            {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('MUSICOVERY_ACCESS_TOKEN')}`\r\n                }\r\n            }\r\n        );\r\n    } catch (error) {\r\n        console.error('Failed to transfer playback:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const play = async ({ spotify_uri, deviceId, position = 0 }) => {\r\n    try {\r\n        const url = `https://api.spotify.com/v1/me/player/play?device_id=${deviceId}`;\r\n        \r\n        await axios.put(\r\n            url,\r\n            {\r\n                uris: [spotify_uri],\r\n                position_ms: position\r\n            },\r\n            {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('MUSICOVERY_ACCESS_TOKEN')}`\r\n                }\r\n            }\r\n        );\r\n    } catch (error) {\r\n        console.error('Failed to play track:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const pause = async () => {\r\n    try {\r\n        await axios.put('https://api.spotify.com/v1/me/player/pause', null, {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('MUSICOVERY_ACCESS_TOKEN')}`\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Failed to pause track:', error);\r\n        throw error;\r\n    }\r\n};","import { useState, useEffect } from \"react\";\r\nimport axiosInstance from \"../api/axiosInstance\";\r\nimport { transferPlayback } from \"../components/music/spotifyPlayer\";\r\n\r\nconst useMusicSearch = () => {\r\n    const [keyword, setKeyword] = useState(\"\");\r\n    const [results, setResults] = useState([]);\r\n    const [audioPlayer, setAudioPlayer] = useState(new Audio());\r\n    const [isPremium, setIsPremium] = useState(false);\r\n    const [deviceId, setDeviceId] = useState(null);\r\n\r\n    // Premium 상태 확인\r\n    useEffect(() => {\r\n        const checkPremiumStatus = async () => {\r\n            try {\r\n                const response = await axiosInstance.get('/api/spotify/userInfo');\r\n                setIsPremium(response.data.product === 'premium');\r\n            } catch (error) {\r\n                //console.error(\"Failed to check premium status\", error);\r\n            }\r\n        };\r\n        checkPremiumStatus();\r\n    }, []);\r\n\r\n    // 디바이스 ID 설정\r\n    useEffect(() => {\r\n        const fetchDeviceId = async () => {\r\n            try {\r\n                const response = await axiosInstance.get('/music/devices', {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${localStorage.getItem('MUSICOVERY_ACCESS_TOKEN')}`\r\n                    }\r\n                });\r\n                const devices = response.data.devices;\r\n                if (devices.length > 0) {\r\n                    setDeviceId(devices[0].id);\r\n                    // 브라우저를 활성 디바이스로 설정\r\n                    await transferPlayback(devices[0].id);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch devices\", error);\r\n            }\r\n        };\r\n        fetchDeviceId();\r\n    }, []);\r\n\r\n    const handleSearch = async (e) => {\r\n        try {\r\n            const response = await axiosInstance.get(`/api/spotify/search?keyword=${keyword}&type=track`);\r\n            const filteredResults = response.data.tracks.items.filter(\r\n                (track) => track.is_playable\r\n            );\r\n            setResults(filteredResults);\r\n        } catch (error) {\r\n            console.error(\"Failed to search music\", error);\r\n            setResults([]);\r\n        }\r\n    };\r\n\r\n    return {\r\n        keyword,\r\n        setKeyword,\r\n        results,\r\n        handleSearch,\r\n        isPremium,\r\n        deviceId,\r\n    };\r\n};\r\n\r\nexport default useMusicSearch;","const defaultImage = `${process.env.REACT_APP_API_URL}/images/default.png`;\r\n\r\nexport const getImageUrl = (playlistPhoto) => {\r\n    if (!playlistPhoto) {\r\n        return defaultImage;\r\n    }\r\n    return playlistPhoto.startsWith(\"/images/\") \r\n        ? `${process.env.REACT_APP_API_URL}${playlistPhoto}` \r\n        : playlistPhoto;\r\n};\r\n\r\nexport const getDefaultImage = () => {\r\n    return defaultImage;\r\n};","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../styles/Nav.css\";\r\n\r\nconst Nav = () => {\r\n    return (\r\n            <aside className=\"social-sidebar\">\r\n                <nav className=\"nav-menu\">\r\n                    <ul>\r\n                        <li><Link to=\"/quiz\">AI가사 퀴즈</Link></li>\r\n                        <li><Link to=\"/songquiz\">노래퀴즈</Link></li>\r\n                        <li><Link to=\"/streaming\">스트리밍</Link></li>\r\n                    </ul>\r\n                </nav>\r\n            </aside>\r\n\r\n    );\r\n};\r\n\r\nexport default Nav;\r\n"],"names":["_ref","onSelectTrack","keyword","setKeyword","results","handleSearch","isPremium","useMusicSearch","hasSearched","setHasSearched","useState","_jsxs","className","children","onSubmit","e","preventDefault","_jsx","type","value","onChange","target","placeholder","length","map","track","index","onClick","Music","id","PlaylistItem","React","playlist","isChecked","onCheck","playlistId","checked","htmlFor","src","getImageUrl","playlistPhoto","alt","playlistTitle","PlaylistModal","_ref2","playlists","selectedPlaylists","loading","onClose","onAdd","stopPropagation","includes","disabled","_ref3","tooltipStyle","setTooltipStyle","showPlaylistModal","setShowPlaylistModal","setPlaylists","setSelectedPlaylists","setLoading","addTrackToList","setIsPlaying","deviceReady","useContext","TrackContext","playlistsLoadedRef","useRef","userInfo","useUserInfo","handleCloseModal","handlePlaylistCheck","useCallback","prevSelected","filter","album","images","onMouseEnter","rect","currentTarget","getBoundingClientRect","top","left","width","onMouseLeave","handleMouseLeave","url","name","artists","artist","join","style","async","setTimeout","error","_error$response","_error$response2","console","response","status","window","open","external_urls","spotify","alert","handlePlayClick","handleAddToPlaylist","current","userId","axiosInstance","get","data","fetchPlaylists","ReactDOM","promises","post","params","trackId","Promise","all","document","body","FriendsList","navigate","useNavigate","friends","setFriends","friendRequests","setFriendRequests","pendingRequests","setPendingRequests","showModal","setShowModal","searchKeyword","setSearchKeyword","searchResults","setSearchResults","activeTab","setActiveTab","useEffect","fetchFriends","fetchFriendRequests","fetchPendingRequests","isFriendOrRequested","some","friend","request","user","state","friendInfo","handleFriendClick","nickname","event","friendId","delete","handleDeleteFriend","email","handleAddFriend","log","friendRequestId","handleAcceptFriendRequest","MusicSearch","streamId","handleJoinChat","SocialPage","liveStreams","setLiveStreams","fetchLiveStreams","then","modifiedData","stream","public","catch","interval","setInterval","clearInterval","Header","SidebarLayout","defaultImage","hostUser","lastMessage","JoinChat","Nav","setResults","audioPlayer","setAudioPlayer","Audio","setIsPremium","deviceId","setDeviceId","product","checkPremiumStatus","devices","headers","localStorage","getItem","axios","put","device_ids","play","transferPlayback","fetchDeviceId","filteredResults","tracks","items","is_playable","startsWith","getDefaultImage","Link","to"],"sourceRoot":""}