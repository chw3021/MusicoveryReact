"use strict";(self.webpackChunkmusicovery_front=self.webpackChunkmusicovery_front||[]).push([[797],{8797:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var i=t(5043),r=t(5026),n=t(4003),c=t(579);const o=()=>{const[e,s]=(0,i.useState)(""),[t,o]=(0,i.useState)([]),[a,l]=(0,i.useState)({}),u=(0,n.A)();(0,i.useEffect)((()=>{u&&d()}),[u]);const d=async()=>{try{const e=await r.A.get(`/customersupport/inquiries?userId=${u.id}`);o(e.data)}catch(e){console.error("\ubb38\uc758\uc0ac\ud56d \ubaa9\ub85d\uc744 \uac00\uc838\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",e)}};return(0,c.jsxs)("div",{className:"customer-support-container",children:[(0,c.jsx)("h1",{children:"\ubb38\uc758\uc0ac\ud56d"}),(0,c.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(!u)return void alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");const t={userId:u.id,question:e},i=await r.A.post("/customersupport/inquiry",t);console.log("\ubb38\uc758\uc0ac\ud56d \uc81c\ucd9c \uc131\uacf5:",i.data),alert("\ubb38\uc758\uc0ac\ud56d\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc81c\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),s(""),d()}catch(i){console.error("\ubb38\uc758\uc0ac\ud56d \uc81c\ucd9c \uc2e4\ud328:",i),alert("\ubb38\uc758\uc0ac\ud56d \uc81c\ucd9c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},className:"customer-support-form",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"question",children:"\ubb38\uc758 \ub0b4\uc6a9:"}),(0,c.jsx)("textarea",{id:"question",value:e,onChange:e=>s(e.target.value),rows:"5",cols:"50",required:!0})]}),(0,c.jsx)("button",{type:"submit",className:"submit-button",children:"\ubb38\uc758\uc0ac\ud56d \uc81c\ucd9c"})]}),(0,c.jsxs)("div",{className:"inquiry-list-container",children:[(0,c.jsx)("h2",{children:"\ub0b4 \ubb38\uc758\uc0ac\ud56d \ubaa9\ub85d"}),(0,c.jsx)("div",{className:"inquiry-list",children:t.map((e=>(0,c.jsxs)("div",{className:"inquiry-item",children:[(0,c.jsxs)("div",{className:"inquiry-item-content",onClick:()=>{return s=e.id,void l((e=>({...e,[s]:!e[s]})));var s},style:{cursor:"pointer"},children:[(0,c.jsxs)("div",{className:"inquiry-item-content-item",children:[(0,c.jsx)("strong",{children:"\ubb38\uc758 \ub0b4\uc6a9:"})," ",e.question]}),(0,c.jsxs)("div",{className:"inquiry-item-content-item",children:[(0,c.jsx)("strong",{children:"\uc791\uc131\uc77c:"})," ",new Date(e.createdAt).toLocaleString()]}),e.response?(0,c.jsx)("div",{className:"inquiry-item-toggle-hint",children:a[e.id]?"\u25b2 \ub2f5\ubcc0 \uc228\uae30\uae30":"\u25bc \ub2f5\ubcc0 \ubcf4\uae30"}):(0,c.jsx)("div",{className:"inquiry-item-toggle-hint",children:"\ub2f5\ubcc0 \ub300\uae30 \uc911"})]}),e.response&&a[e.id]&&(0,c.jsx)("div",{className:"inquiry-item-content-response",children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\ub2f5\ubcc0:"})," ","string"===typeof e.response?JSON.parse(e.response).response:e.response]})})]},e.id)))})]})]})}}}]);
//# sourceMappingURL=797.8a608e10.chunk.js.map