"use strict";(self.webpackChunkmusicovery_front=self.webpackChunkmusicovery_front||[]).push([[594],{6175:(s,l,t)=>{t.r(l),t.d(l,{default:()=>m});var e=t(5422),a=t(5043),i=t(8574),n=t(1675),c=t(5026),r=t(7138);t.p;var o=t(579);const d=s=>{let{playlistId:l,playlistTitle:t,playlistComment:e,playlistPhoto:a,playlistDate:d,isFriendPlaylist:y,onPlaylistClick:p}=s;const h=(0,n.Zp)();return(0,o.jsxs)("div",{className:"ReadMoreItem",onClick:()=>{p(l)},children:[(0,o.jsx)("img",{src:(0,r.V)(a),alt:"Spotify",className:"playlistPhoto"})," ",(0,o.jsxs)("div",{className:"playlistInfo",children:[(0,o.jsx)("div",{className:"playlistTitle",children:t}),(0,o.jsx)("div",{className:"playlistComment",children:e})]}),(0,o.jsxs)("div",{className:"playlistActions",children:[(0,o.jsx)("div",{className:"buttonGroup",children:!y&&(0,o.jsx)(i.A,{text:"\uc0ad\uc81c",onClick:s=>(async s=>{if(s.stopPropagation(),window.confirm("\uc815\ub9d0\ub85c \uc774 \ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{const s=await c.A.delete("/playlist/delete",{params:{playlistId:l}});console.log(s.data),window.location.reload(),h("/PlaylistPage")}catch(t){console.error("\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8 \uc0ad\uc81c \uc2e4\ud328:",t)}})(s)})}),(0,o.jsx)("div",{className:"playlistDate",children:new Date(d).toLocaleDateString()})]})]})},y=[{value:"latest",name:"\ucd5c\uc2e0\uc21c"},{value:"oldest",name:"\uc624\ub798\ub41c \uc21c"}],p=s=>{let{data:l,onSelect:t=()=>{},isFriendPlaylist:e,onPlaylistClick:i}=s;const[n,c]=(0,a.useState)("latest"),[r,p]=(0,a.useState)([]);(0,a.useEffect)((()=>{const s=(s,l)=>{const t=new Date(s.playlistDate),e=new Date(l.playlistDate);return"latest"===n?e-t:t-e};if(Array.isArray(l)&&l.every((s=>s.playlistDate))){const t=[...l];t.sort(s),p(t)}else p([])}),[l,n]);return(0,o.jsxs)("div",{className:"ReadMoreList",children:[(0,o.jsxs)("div",{className:"searchText",children:[(0,o.jsx)("div",{className:"form-control",children:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8 \ub9ac\uc2a4\ud2b8"}),(0,o.jsx)("select",{value:n,onChange:s=>{c(s.target.value)},children:y.map(((s,l)=>(0,o.jsx)("option",{value:s.value,children:s.name},l)))})]}),(0,o.jsx)("div",{className:"list_lower",children:r.map((s=>(0,o.jsx)("div",{onClick:()=>t(s.playlistId),children:(0,o.jsx)(d,{playlistId:s.playlistId,playlistTitle:s.playlistTitle,playlistComment:s.playlistComment,playlistPhoto:s.playlistPhoto,playlistDate:s.playlistDate,isFriendPlaylist:e,onPlaylistClick:i})},s.playlistId)))})]})};var h=t(4003);const m=()=>{var s;const[l,t]=(0,a.useState)([]),[r,d]=(0,a.useState)(!1),y=(0,n.Zp)(),m=(0,h.A)(),u=null===(s=(0,n.zy)().state)||void 0===s?void 0:s.friendInfo,v=u?u.userId:null===m||void 0===m?void 0:m.userId,x=!!u;(0,a.useEffect)((()=>{(async()=>{if(v)try{const s=await(async s=>{try{return(await c.A.get(`/playlist/user/${s}`)).data}catch(l){throw console.error("Error fetching playlists",l),l}})(v);d(!1),t(s)}catch(s){s.response&&500===s.response.status&&(d(!0),t([]))}})()}),[v]);return(0,o.jsxs)("div",{className:"container1",children:[(0,o.jsx)(e.A,{}),(0,o.jsxs)("div",{className:"grayBackground",children:[(0,o.jsxs)("div",{className:"arraywithButton",children:[(0,o.jsx)("div",{className:"Textplace",children:(0,o.jsx)("div",{id:"libText",children:x?`${u.nickname} \ub2d8\uc758 \ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8`:"\ub0b4 \ub77c\uc774\ube0c\ub7ec\ub9ac"})}),!x&&!r&&(0,o.jsx)("div",{className:"goCreateView",children:(0,o.jsx)(i.A,{link:"/createplaylist",text:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8 \uc0dd\uc131"})})]}),r?(0,o.jsx)("div",{className:"spotify-announce",children:"Spotify \uacc4\uc815 \uc5f0\ub3d9\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}):l.length>0?(0,o.jsx)(p,{data:l,isFriendPlaylist:x,onPlaylistClick:s=>{y(`/playlist/${s}`,{state:{friendInfo:u}})}}):(0,o.jsx)("p",{children:"\uc0c8 \ub9ac\uc2a4\ud2b8\ub97c \uc0dd\uc131\ud574\uc8fc\uc138\uc694"})]})]})}},7138:(s,l,t)=>{t.d(l,{N:()=>i,V:()=>a});const e="https://easy-turtles-flash.loca.lt/images/default.png",a=s=>s?s.startsWith("/images/")?`https://easy-turtles-flash.loca.lt${s}`:s:e,i=()=>e},8574:(s,l,t)=>{t.d(l,{A:()=>i});t(5043);var e=t(1675),a=t(579);const i=s=>{let{text:l,link:t,color:i,onClick:n=()=>{}}=s;return(0,a.jsx)(e.N_,{to:t,className:"button "+(i?"custom-color":""),onClick:n,children:l})}}}]);
//# sourceMappingURL=594.8d244336.chunk.js.map