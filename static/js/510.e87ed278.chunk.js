"use strict";(self.webpackChunkmusicovery_front=self.webpackChunkmusicovery_front||[]).push([[510],{486:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(5043),l=t(4935),i=t(6375),n=t(579);const r=e=>{let{onSelectTrack:s}=e;const{keyword:t,setKeyword:r,results:c,handleSearch:o,isPremium:d}=(0,i.A)(),[u,h]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:"music-search",children:[d,(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(),h(!0)},children:[" ",(0,n.jsx)("input",{className:"music-search-input",type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"\uc74c\uc545 \uac80\uc0c9"}),(0,n.jsx)("button",{type:"submit",children:"\ud83d\udd0e"})]}),(0,n.jsx)("div",{className:"music-search-results",children:u||0!==c.length?c.map(((e,t)=>(0,n.jsx)("div",{onClick:()=>s(e),children:(0,n.jsx)(l.A,{track:e,isPremium:d})},e.id))):(0,n.jsx)("div",{className:"music-search-placeholder",children:"\uac80\uc0c9\uc5b4 \uc785\ub825..."})})]})}},4935:(e,s,t)=>{t.d(s,{A:()=>h});var a=t(5043),l=t(7950),i=t(5026),n=t(4003),r=t(7138),c=t(9428),o=t(579);const d=a.memo((e=>{let{playlist:s,isChecked:t,onCheck:a}=e;return(0,o.jsxs)("div",{className:"playlist-modal-item",children:[(0,o.jsx)("input",{type:"checkbox",id:`playlist-${s.playlistId}`,checked:t,onChange:()=>a(s.playlistId)}),(0,o.jsxs)("label",{htmlFor:`playlist-${s.playlistId}`,className:"playlist-modal-label",children:[(0,o.jsx)("div",{className:"playlist-modal-image-container",children:(0,o.jsx)("img",{src:(0,r.V)(s.playlistPhoto),alt:s.playlistTitle,className:"playlist-modal-image"})}),(0,o.jsx)("span",{className:"playlist-modal-name",children:s.playlistTitle})]})]})})),u=a.memo((e=>{let{playlists:s,selectedPlaylists:t,loading:a,onCheck:l,onClose:i,onAdd:n}=e;return(0,o.jsx)("div",{className:"playlist-modal-overlay",onClick:i,children:(0,o.jsxs)("div",{className:"playlist-modal",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"playlist-modal-header",children:[(0,o.jsx)("h3",{children:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0 \ucd94\uac00"}),(0,o.jsx)("button",{className:"playlist-modal-close",onClick:i,children:"\xd7"})]}),(0,o.jsx)("div",{className:"playlist-modal-body",children:a?(0,o.jsx)("p",{children:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."}):0===s.length?(0,o.jsx)("p",{children:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,o.jsx)("div",{className:"playlist-modal-list",children:s.map((e=>(0,o.jsx)(d,{playlist:e,isChecked:t.includes(e.playlistId),onCheck:l},e.playlistId)))})}),(0,o.jsx)("div",{className:"playlist-modal-footer",children:(0,o.jsx)("button",{className:"add-to-playlist-button",onClick:n,disabled:0===t.length||a,children:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0 \ucd94\uac00"})})]})})})),h=e=>{let{track:s,isPremium:t}=e;const[r,d]=(0,a.useState)({}),[h,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)([]),[y,j]=(0,a.useState)([]),[g,v]=(0,a.useState)(!1),{addTrackToList:f,setIsPlaying:N,deviceReady:k}=(0,a.useContext)(c.vC),b=(0,a.useRef)(!1),S=(0,n.A)(),C=()=>{m(!1),j([])},w=(0,a.useCallback)((e=>{j((s=>s.includes(e)?s.filter((s=>s!==e)):[...s,e]))}),[]);return s&&s.album&&s.album.images&&s.album.images[0]?(0,o.jsxs)("div",{className:"track-item",onMouseEnter:e=>{const s=e.currentTarget.getBoundingClientRect();d({top:s.top-10+"px",left:`${s.left+s.width/2}px`})},onMouseLeave:()=>{d({})},children:[(0,o.jsx)("img",{className:"track-album-image-music",src:s.album.images[0].url,alt:s.name}),(0,o.jsxs)("div",{className:"track-info",children:[(0,o.jsx)("h4",{children:s.name}),(0,o.jsx)("p",{children:s.artists.map((e=>e.name)).join(", ")}),(0,o.jsxs)("div",{className:"tooltip",style:r,children:[(0,o.jsx)("h4",{children:s.name}),(0,o.jsx)("p",{children:s.artists.map((e=>e.name)).join(", ")})]})]}),(0,o.jsxs)("div",{className:"track-play-button-container",children:[(0,o.jsx)("button",{onClick:()=>(async e=>{if(t)try{f(e),k?N(!0):k||setTimeout((()=>{N(!0)}),1e3)}catch(l){var s,a;if(console.error("\ud2b8\ub799 \uc7ac\uc0dd \uc911 \uc624\ub958:",l),403===(null===(s=l.response)||void 0===s?void 0:s.status))return void window.open(e.external_urls.spotify,"_blank");404===(null===(a=l.response)||void 0===a?void 0:a.status)?alert("Spotify \ud50c\ub808\uc774\uc5b4\ub97c \ucd08\uae30\ud654 \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):alert("\ud2b8\ub799\uc744 \uc7ac\uc0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}else window.open(e.external_urls.spotify,"_blank")})(s),className:t?"premium-play":"spotify-link",children:t?"\u25b6":"LINK"}),(0,o.jsx)("button",{className:"add-track-to-playlist-button",onClick:()=>{m(!0),S&&!b.current&&(async e=>{if(e&&!b.current){v(!0);try{const s=await i.A.get(`/playlist/user/${e}`);x(s.data||[]),b.current=!0}catch(s){console.error("\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4:",s)}finally{v(!1)}}})(S.userId)},children:"\u2795"})]}),h&&l.createPortal((0,o.jsx)(u,{playlists:p,selectedPlaylists:y,loading:g,onCheck:w,onClose:C,onAdd:async()=>{if(0!==y.length)try{const e=y.map((e=>i.A.post(`/api/spotify/playlist/${e}/track`,null,{params:{trackId:s.id}})));await Promise.all(e),alert("\uc120\ud0dd\ud55c \ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0 \ud2b8\ub799\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),C()}catch(e){console.error("\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0 \ud2b8\ub799 \ucd94\uac00 \uc2e4\ud328:",e),alert("\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0 \ud2b8\ub799 \ucd94\uac00 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}else alert("\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")}}),document.body)]},s.id):null}},5520:(e,s,t)=>{t.d(s,{A:()=>d});var a=t(5043),l=t(486),i=t(5026),n=t(4003),r=t(1675),c=t(579);const o=()=>{const e=(0,r.Zp)(),[s,t]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[y,j]=(0,a.useState)([]),[g,v]=(0,a.useState)("search"),f=(0,n.A)();(0,a.useEffect)((()=>{f&&(N(),k(),b())}),[f]);const N=async()=>{try{const e=await i.A.get(`/friends/list?userId=${f.id}`);t(e.data)}catch(e){console.error("\uce5c\uad6c \ubaa9\ub85d\uc744 \uac00\uc838\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",e)}},k=async()=>{try{const e=await i.A.get(`/friends/friendRequests?friendId=${f.id}`);o(e.data)}catch(e){console.error("\uce5c\uad6c \uc694\uccad \ubaa9\ub85d\uc744 \uac00\uc838\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",e)}},b=async()=>{try{const e=await i.A.get(`/friends/pendingRequests?userId=${f.id}`);u(e.data)}catch(e){console.error("\ub0b4\uac00 \uc694\uccad\ud55c \uce5c\uad6c \ubaa9\ub85d\uc744 \uac00\uc838\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",e)}},S=e=>s.some((s=>s.friend.id===e))||l.some((s=>s.user.id===e))||d.some((s=>s.friend.id===e));return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"friends-list-container",children:[(0,c.jsx)("h2",{children:"\uce5c\uad6c \ubaa9\ub85d"}),(0,c.jsx)("button",{onClick:()=>m(!0),className:"add-friend-button",children:"\uce5c\uad6c \ucd94\uac00"}),(0,c.jsx)("div",{className:"friends-list",children:s.map((s=>(0,c.jsxs)("div",{className:"friend-item",onClick:()=>(s=>{e("/playlistPage",{state:{friendInfo:s}})})(s.friend.id===f.id?s.user:s.friend),children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\uce5c\uad6c \ubcc4\uba85 :"})," ",s.friend.id===f.id?s.user.nickname:s.friend.nickname]}),(0,c.jsx)("button",{className:"friend-delete-button",onClick:e=>(async(e,s)=>{s.stopPropagation();try{await i.A.delete("/friends/delete",{params:{userId:f.id,friendId:e}}),N()}catch(t){console.error("\uce5c\uad6c \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",t)}})(s.friend.id,e),children:"\u274c"})]},s.id)))})]}),h&&(0,c.jsx)("div",{className:"modal",children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsx)("span",{className:"close",onClick:()=>m(!1),children:"\xd7"}),(0,c.jsxs)("div",{className:"modal-tabs",children:[(0,c.jsx)("button",{className:"modal-tab-button "+("search"===g?"active":""),onClick:()=>v("search"),children:"\uce5c\uad6c \uac80\uc0c9"}),(0,c.jsx)("button",{className:"modal-tab-button "+("pending"===g?"active":""),onClick:()=>v("pending"),children:"\uc694\uccad\ud55c \ubaa9\ub85d"}),(0,c.jsx)("button",{className:"modal-tab-button "+("requests"===g?"active":""),onClick:()=>v("requests"),children:"\ubc1b\uc740 \uce5c\uad6c \uc694\uccad"})]}),"search"===g&&(0,c.jsxs)("div",{className:"friendlist-search-tab",children:[(0,c.jsx)("h2",{children:"\uce5c\uad6c \ucd94\uac00"}),(0,c.jsx)("input",{type:"text",placeholder:"\uac80\uc0c9 (ID, \uc774\uba54\uc77c, \ub2c9\ub124\uc784)",value:p,onChange:e=>x(e.target.value)}),(0,c.jsx)("button",{onClick:async()=>{try{const e=await i.A.get(`/friends/search?keyword=${p}`);j(e.data)}catch(e){console.error("\uc0ac\uc6a9\uc790 \uac80\uc0c9\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",e)}},children:"\uac80\uc0c9"}),(0,c.jsx)("div",{className:"search-results",children:y.map((e=>(0,c.jsxs)("div",{className:"search-result-item",children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\uc774\uba54\uc77c:"})," ",e.email]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\ub2c9\ub124\uc784:"})," ",e.nickname]}),(0,c.jsx)("button",{onClick:()=>(async e=>{try{await i.A.post("/friends/add",{userId:f.id,friendId:e}),N(),b()}catch(s){console.error("\uce5c\uad6c \ucd94\uac00\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",s)}})(e.id),disabled:S(e.id),children:S(e.id)?"\uc694\uccad\ub428":"\uce5c\uad6c \ucd94\uac00"})]},e.id)))})]}),"pending"===g&&(0,c.jsxs)("div",{className:"friendlist-pending-tab",children:[(0,c.jsx)("h2",{children:"\uc694\uccad\ud55c \ubaa9\ub85d"}),(0,c.jsx)("div",{className:"pending-requests-list",children:0===d.length?(0,c.jsx)("p",{children:"\uc694\uccad\ud55c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):d.map((e=>(console.log(e),(0,c.jsx)("div",{className:"pending-request-item",children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\uc694\uccad\ud55c \uc0ac\uc6a9\uc790 ID:"})," ",e.friend.nickname]})},e.id))))})]}),"requests"===g&&(0,c.jsxs)("div",{className:"friendlist-requests-tab",children:[(0,c.jsx)("h2",{children:"\ubc1b\uc740 \uce5c\uad6c \uc694\uccad"}),(0,c.jsx)("div",{className:"friend-requests-list",children:0===l.length?(0,c.jsx)("p",{children:"\ubc1b\uc740 \uc694\uccad\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):l.map((e=>(console.log(e),(0,c.jsx)("div",{className:"friend-request-item",children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\uc694\uccad\ud55c \uc0ac\uc6a9\uc790:"})," ",e.user.nickname,(0,c.jsx)("button",{className:"accept-button",onClick:()=>(async e=>{try{await i.A.post("/friends/accept",null,{params:{friendRequestId:e}}),N(),k()}catch(s){console.error("\uce5c\uad6c \uc694\uccad \uc218\ub77d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",s)}})(e.id),children:"\u2705"})]})},e.id))))})]})]})})]})},d=e=>{let{children:s}=e;return(0,c.jsxs)("div",{className:"sidebar-layout-layout",children:[(0,c.jsxs)("div",{className:"sidebar-layout-sidebar",children:[(0,c.jsx)(l.A,{onSelectTrack:()=>{}}),(0,c.jsx)(o,{})]}),(0,c.jsx)("div",{className:"sidebar-layout-main-content",children:s})]})}},6375:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(5043),l=t(5026),i=t(6213);const n=()=>{const[e,s]=(0,a.useState)(""),[t,n]=(0,a.useState)([]),[r,c]=(0,a.useState)(new Audio),[o,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=await l.A.get("/api/spotify/userInfo");d("premium"===e.data.product)}catch(e){}})()}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e=(await l.A.get("/music/devices",{headers:{Authorization:`Bearer ${localStorage.getItem("MUSICOVERY_ACCESS_TOKEN")}`}})).data.devices;e.length>0&&(h(e[0].id),await(async e=>{try{const s="https://api.spotify.com/v1/me/player";await i.A.put(s,{device_ids:[e],play:!0},{headers:{Authorization:`Bearer ${localStorage.getItem("MUSICOVERY_ACCESS_TOKEN")}`}})}catch(s){throw console.error("Failed to transfer playback:",s),s}})(e[0].id))}catch(e){console.error("Failed to fetch devices",e)}})()}),[]);return{keyword:e,setKeyword:s,results:t,handleSearch:async s=>{try{const s=(await l.A.get(`/api/spotify/search?keyword=${e}&type=track`)).data.tracks.items.filter((e=>e.is_playable));n(s)}catch(t){console.error("Failed to search music",t),n([])}},isPremium:o,deviceId:u}}},7138:(e,s,t)=>{t.d(s,{N:()=>i,V:()=>l});const a="https://211.243.7.215:8080/images/default.png",l=e=>e?e.startsWith("/images/")?`https://211.243.7.215:8080${e}`:e:a,i=()=>a},9057:(e,s,t)=>{t.d(s,{A:()=>i});t(5043);var a=t(1675),l=t(579);const i=()=>(0,l.jsx)("aside",{className:"social-sidebar",children:(0,l.jsx)("nav",{className:"nav-menu",children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.N_,{to:"/quiz",children:"AI\uac00\uc0ac \ud034\uc988"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.N_,{to:"/songquiz",children:"\ub178\ub798\ud034\uc988"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.N_,{to:"/streaming",children:"\uc2a4\ud2b8\ub9ac\ubc0d"})})]})})})},9510:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(5043),l=t(5422),i=t(5026),n=t(9057),r=t(5520),c=t(579);const o=()=>{const[e,s]=(0,a.useState)(""),[t,o]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1),[y,j]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[f,N]=(0,a.useState)(null),[k,b]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[w,A]=(0,a.useState)([]),[I,q]=(0,a.useState)(null),[P,$]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{const e=localStorage.getItem("user");if(e)$(JSON.parse(e));else try{const e=await i.A.get("/api/spotify/userInfo");$(e.data),localStorage.setItem("user",JSON.stringify(e.data))}catch(s){console.error("\uc720\uc800 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294 \ub370 \uc2e4\ud328:",s)}})()}),[]);const _=async s=>{if(s.preventDefault(),e.trim()){x(!0);try{const s=await i.A.get("/api/quizlist",{params:{artist:e}});if(0===s.data.length)return void console.error("\ub178\ub798 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");const t=s.data.map((e=>({...e,title:e.title.split(/[([{['"]/)[0].replace(/[\(\)\[\]{}'"]/g,"").trim()}))),a=t.sort((()=>.5-Math.random())).slice(0,10);o(a),console.log("\ub178\ub798 \ubaa9\ub85d:",a),C(!0)}catch(t){console.error("\ub178\ub798 \ubaa9\ub85d\uc744 \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",t)}finally{x(!1)}}else console.error("\uac00\uc218\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.")},T=async s=>{s.preventDefault();const t=g.trim().toLowerCase(),a=y.toLowerCase();try{console.log(`/api/sometitle \uc694\uccad: title=${y}`);const s=await i.A.get("/api/sometitle",{params:{title:y}});console.log("/api/sometitle \uc751\ub2f5:",s.data);const l=(s.data||[]).map((e=>e.trim().toLowerCase()));if(t===a||l.includes(t)){alert("\uc815\ub2f5\uc785\ub2c8\ub2e4! \uac19\uc740 \uc544\ud2f0\uc2a4\ud2b8\uc758 \ub2e4\ub978 \uace1\uc744 \ub9de\ucdb0\ubcf4\uc138\uc694."),f&&(f.cancel(),b(!1)),v(""),u((e=>[...e,y]));if((async s=>{try{const t=`${e} - ${y}`,a=await i.A.post("/api/ranking",{username:null===P||void 0===P?void 0:P.display_name,songTitle:t,timeTaken:s});console.log("\ub7ad\ud0b9 \uc800\uc7a5 \uc644\ub8cc:",a.data),M()}catch(t){console.error("\ub7ad\ud0b9 \uc800\uc7a5 \uc911 \uc624\ub958 \ubc1c\uc0dd:",t)}})(I?Date.now()-I:0),z(),f){const e=new SpeechSynthesisUtterance("\uc815\ub2f5\uc785\ub2c8\ub2e4! \ub2e4\ub978 \uace1\uc744 \ub9de\ucdb0\ubcf4\uc138\uc694!");e.lang="ko-KR",e.rate=3*Math.random()+2,e.pitch=1.9*Math.random()+.1,e.volume=1,f.speak(e)}}else alert("\ud2c0\ub838\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \ubcf4\uc138\uc694."),v("")}catch(l){console.error("\ub300\uccb4 \uc81c\ubaa9\uc744 \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",l),alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.")}},z=async()=>{if(0!==t.length){x(!0);try{const e=t.filter((e=>!d.includes(e.title)));if(0===e.length)return void console.log("\ubaa8\ub4e0 \ub178\ub798\ub97c \ub9de\ucd94\uc168\uc2b5\ub2c8\ub2e4!");const s=e[Math.floor(Math.random()*e.length)],a=encodeURIComponent(s.artist),l=encodeURIComponent(s.title),n=await i.A.get("/api/lyrics",{params:{artist:a,title:l}});m(n.data.lyrics),j(s.title),E(n.data.lyrics),console.log("\uc81c\ubaa9:",s.title)}catch(e){e.response&&429===e.response.status?(console.error("\uc694\uccad \uc81c\ud55c \ucd08\uacfc. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),alert("\uc11c\ubc84\uc5d0 \uacfc\ub3c4\ud55c \uc694\uccad\uc744 \ubcf4\ub0b4\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),setTimeout(z,5e3)):console.error("\uac00\uc0ac\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}finally{x(!1)}}else console.error("\ub178\ub798 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")},E=e=>{if(!e)return void console.error("\uc77d\uc744 \uac00\uc0ac\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");const s=window.speechSynthesis,t=new SpeechSynthesisUtterance(e);t.lang="ko-KR",t.rate=3*Math.random()+2,t.pitch=1.9*Math.random()+.1,t.volume=1,N(s),b(!0),s.speak(t),t.onstart=()=>{b(!0),q(Date.now())},t.onend=()=>{b(!1)}},R=e=>{"Enter"===e.key&&("artist"===e.target.name?_(e):"userInput"===e.target.name&&T(e))},M=async()=>{try{const e=await i.A.get("/api/ranking/top5");A(e.data)}catch(e){console.error("\ub7ad\ud0b9 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}};return(0,a.useEffect)((()=>{M()}),[]),(0,c.jsxs)("div",{className:"quiz-container",children:[(0,c.jsx)(l.A,{}),(0,c.jsx)(r.A,{children:(0,c.jsxs)("div",{className:"quiz-social-layout",children:[(0,c.jsx)("div",{className:"content-wrapper",children:(0,c.jsxs)("div",{className:"quiz-content",children:[(0,c.jsx)("h2",{className:"quiz-title",children:"\ud83c\udfb5 AI \uac00\uc0ac \ub9de\ud788\uae30 \ud034\uc988"}),(0,c.jsxs)("div",{className:"oneLineView",children:[(0,c.jsxs)("div",{className:"search-box",children:[(0,c.jsxs)("div",{className:"search-label-box",children:[(0,c.jsx)("input",{type:"text",className:"search-input",placeholder:"\uac00\uc218\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",value:e,onChange:e=>s(e.target.value),onKeyPress:R,name:"artist"}),(0,c.jsx)("button",{className:"quiz-button2",onClick:_,children:"\ud83d\udd0d\ucc3e\uae30"})]}),(0,c.jsx)("div",{className:"quiz-button-box",children:S&&(0,c.jsx)("button",{className:"quiz-button",onClick:z,disabled:p||k,children:p?"\uac00\uc838\uc624\ub294 \uc911...":"\ud83c\udfb5 AI \uc74c\uc131 \uc7ac\uc0dd"})})]}),(0,c.jsxs)("div",{className:"rankingPart",children:[(0,c.jsx)("h3",{children:"\ud83c\udfc6 \ub7ad\ud0b9"}),(0,c.jsx)("ul",{className:"ranking-list",children:w.length>0?w.map(((e,s)=>(0,c.jsxs)("li",{className:"ranking-item",children:[(0,c.jsxs)("span",{children:[s+1,"\uc704:"]}),(0,c.jsxs)("div",{className:"rank-userinfo-item-text",children:[e.username," (",e.songTitle,")"]}),(0,c.jsxs)("span",{children:[e.timeTaken/1e3,"\ucd08"]})]},e.id))):(0,c.jsx)("li",{children:"\ub7ad\ud0b9 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})]}),(0,c.jsx)("div",{className:"stopBtnplace",children:k&&(0,c.jsx)("button",{className:"quiz-button",onClick:()=>{f&&(f.cancel(),b(!1))},children:"\uc74c\uc131 \uba48\ucd94\uae30"})}),y&&(0,c.jsxs)("div",{className:"guess-box",children:[(0,c.jsx)("input",{type:"text",className:"guess-input",placeholder:"\ub178\ub798 \uc81c\ubaa9\uc744 \ub9de\ud600\ubcf4\uc138\uc694",value:g,onChange:e=>v(e.target.value),onKeyPress:R,name:"userInput"}),(0,c.jsx)("button",{className:"quiz-button2",type:"submit",onClick:T,children:"\ud655\uc778"})]})]})}),(0,c.jsx)(n.A,{})]})})]})}}}]);
//# sourceMappingURL=510.e87ed278.chunk.js.map