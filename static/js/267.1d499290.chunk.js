"use strict";(self.webpackChunkmusicovery_front=self.webpackChunkmusicovery_front||[]).push([[267],{8267:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(5043),a=s(5026),o=s(5422),l=s(4003),i=s(1675),n=s(579);const c=()=>{const[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)(""),[d,p]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),x=(0,l.A)(),j=(0,i.zy)(),m=(0,i.Zp)(),[v,g]=(0,r.useState)(null);(0,r.useEffect)((()=>{j.state&&j.state.reportedPost&&(c(j.state.reportedPost.user.id),g(j.state.reportedPost))}),[j.state]),(0,r.useEffect)((()=>{x&&f(x.id)}),[x]);const f=async e=>{try{const s=await a.A.get("/api/userreport/reporter/"+e);console.log("\uc2e0\uace0 \ub0b4\uc5ed:",s.data),t(s.data||[])}catch(s){console.error("\uc2e0\uace0 \ub0b4\uc5ed\uc744 \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",s),t([])}};return(0,n.jsxs)("div",{children:[(0,n.jsx)(o.A,{}),(0,n.jsxs)("div",{className:"user-report-container",children:[(0,n.jsx)("h2",{children:"\uc2e0\uace0\ud558\uae30"}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s)try{await a.A.post("/api/userreport/report",{reporterId:x.id,reportedUserId:s,reason:"\uc9c1\uc811\uc785\ub825"===d?u:d,postId:v.id});alert("\uc2e0\uace0\uac00 \uc811\uc218\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),m("/post")}catch(t){console.error("\uc2e0\uace0 \uc911 \uc624\ub958 \ubc1c\uc0dd:",t),alert("\uc2e0\uace0 \uc811\uc218 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}else alert("\uc2e0\uace0\ud560 \uc0ac\uc6a9\uc790 ID\ub97c \uc785\ub825\ud558\uc138\uc694.")},children:[(0,n.jsx)("input",{type:"text",placeholder:"\uc2e0\uace0\ud560 \uc0ac\uc6a9\uc790 ID",value:j.state.reportedPost.user.nickname,onChange:e=>c(e.target.value),required:!0,disabled:!0}),v&&(0,n.jsxs)("div",{className:"reported-post-info",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\uc81c\ubaa9:"})," ",v.title]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\ub0b4\uc6a9:"})," ",v.description]})]}),(0,n.jsx)("input",{type:"text",list:"reportReasonsList",placeholder:"\uc2e0\uace0 \uc0ac\uc720\ub97c \uc785\ub825\ud558\uc138\uc694",value:d,onChange:e=>p(e.target.value),required:!0}),(0,n.jsxs)("datalist",{id:"reportReasonsList",children:[(0,n.jsx)("option",{value:"\uc2a4\ud338"}),(0,n.jsx)("option",{value:"\uc695\uc124 \ubc0f \ubd80\uc801\uc808\ud55c \ub0b4\uc6a9"}),(0,n.jsx)("option",{value:"\uad34\ub86d\ud798"}),(0,n.jsx)("option",{value:"\uc0ac\uae30"}),(0,n.jsx)("option",{value:"\uc9c1\uc811\uc785\ub825"})," "]}),"\uc9c1\uc811\uc785\ub825"===d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{htmlFor:"customReason",children:"\uae30\ud0c0 \uc0ac\uc720 (\uc790\uc720 \uc785\ub825)"}),(0,n.jsx)("textarea",{id:"customReason",placeholder:"\uc790\uc720\ub86d\uac8c \uc2e0\uace0 \uc0ac\uc720\ub97c \uc785\ub825\ud558\uc138\uc694.",value:u,onChange:e=>h(e.target.value),rows:"4"})]}),(0,n.jsx)("button",{className:"reportbutton",type:"submit",children:"\uc2e0\uace0 \uc81c\ucd9c"})]}),(0,n.jsx)("h2",{children:"\uc2e0\uace0 \ub0b4\uc5ed"}),(0,n.jsx)("ul",{className:"report-list-ulist",children:Array.isArray(e)&&e.map((e=>(0,n.jsx)("li",{className:"report-list-list",children:(0,n.jsxs)("div",{className:"report-list-item",children:[(0,n.jsxs)("strong",{children:["\uc0ac\uc6a9\uc790: ",e.reportedUserNickname]}),e.postTitle&&(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\uac8c\uc2dc\uae00 \uc81c\ubaa9:"})," ",e.postTitle]}),(0,n.jsxs)("strong",{children:[" \uc0ac\uc720: ",e.reason]})]})},e.id)))})]})]})}}}]);
//# sourceMappingURL=267.1d499290.chunk.js.map