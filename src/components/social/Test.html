<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Horizontal Page Transition</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      overflow-x: hidden;
      overflow-y: hidden;
      font-family: Arial, sans-serif;
    }
    
    .container {
      display: flex;
      width: 200vw;
      height: 100vh;
      transition: transform 0.5s ease;
    }
    
    .page {
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    
    #page1 {
      background-color: #3498db;
      color: white;
    }
    
    #page2 {
      background-color: #2ecc71;
      color: white;
    }
    
    .transition-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      pointer-events: none;
      visibility: hidden;
    }
    
    .transition-strip {
      height: 100%;
      width: 10%;
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s ease;
    }
    
    .controls {
      position: fixed;
      bottom: 20px;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: center;
      gap: 20px;
      z-index: 10;
    }
    
    button {
      padding: 10px 20px;
      background: rgba(255, 255, 255, 0.8);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    
    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
    }
    
    p {
      font-size: 1.5rem;
      max-width: 80%;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container" id="container">
    <div class="page" id="page1">
      <h1>First Page</h1>
      <p>Scroll right to see the transition effect. Notice how the screen splits into vertical lines that progressively expand.</p>
    </div>
    <div class="page" id="page2">
      <h1>Second Page</h1>
      <p>Scroll left to go back to the first page with the same transition effect in reverse.</p>
    </div>
  </div>
  
  <div class="transition-container" id="transitionContainer">
    <!-- 10 transition strips will be created dynamically -->
  </div>
  
  <div class="controls">
    <button id="prevBtn">Previous Page</button>
    <button id="nextBtn">Next Page</button>
  </div>

  <script>
    const container = document.getElementById('container');
    const transitionContainer = document.getElementById('transitionContainer');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    
    let currentPage = 0;
    const totalPages = 2;
    const stripCount = 10;
    
    // Create transition strips
    for (let i = 0; i < stripCount; i++) {
      const strip = document.createElement('div');
      strip.className = 'transition-strip';
      strip.style.backgroundColor = currentPage === 0 ? '#2ecc71' : '#3498db';
      transitionContainer.appendChild(strip);
    }
    
    const transitionStrips = document.querySelectorAll('.transition-strip');
    
    // Navigation functions
    function goToPage(pageIndex) {
      if (pageIndex < 0 || pageIndex >= totalPages || pageIndex === currentPage) return;
      
      const targetColor = pageIndex === 0 ? '#3498db' : '#2ecc71';
      const sourceColor = pageIndex === 0 ? '#2ecc71' : '#3498db';
      
      // Make transition container visible
      transitionContainer.style.visibility = 'visible';
      
      // Set the color of strips to the target page color
      transitionStrips.forEach(strip => {
        strip.style.backgroundColor = targetColor;
      });
      
      // Animate strips with staggered delay
      transitionStrips.forEach((strip, index) => {
        setTimeout(() => {
          strip.style.transform = 'scaleX(1)';
        }, index * 70);
      });
      
      // After strips are fully expanded
      setTimeout(() => {
        // Move to the target page
        container.style.transform = `translateX(${-pageIndex * 100}vw)`;
        currentPage = pageIndex;
        
        // Reset strips with the color of the next potential target
        setTimeout(() => {
          transitionStrips.forEach((strip, index) => {
            strip.style.transform = 'scaleX(0)';
          });
          
          // Hide transition container after reset
          setTimeout(() => {
            transitionContainer.style.visibility = 'hidden';
            transitionStrips.forEach(strip => {
              strip.style.backgroundColor = sourceColor;
            });
          }, 500);
        }, 300);
      }, stripCount * 70 + 300);
    }
    
    // Button event listeners
    prevBtn.addEventListener('click', () => {
      goToPage(currentPage - 1);
    });
    
    nextBtn.addEventListener('click', () => {
      goToPage(currentPage + 1);
    });
    
    // Scroll event for horizontal scrolling
    let touchStartX = 0;
    let touchEndX = 0;
    
    document.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    });
    
    document.addEventListener('touchend', e => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });
    
    function handleSwipe() {
      if (touchEndX < touchStartX - 50) {
        // Swipe left
        goToPage(currentPage + 1);
      }
      if (touchEndX > touchStartX + 50) {
        // Swipe right
        goToPage(currentPage - 1);
      }
    }
    
    // Wheel event for desktop scrolling
    let isScrolling = false;
    document.addEventListener('wheel', (e) => {
      if (isScrolling) return;
      isScrolling = true;
      
      if (e.deltaX > 50) {
        goToPage(currentPage + 1);
      } else if (e.deltaX < -50) {
        goToPage(currentPage - 1);
      }
      
      setTimeout(() => {
        isScrolling = false;
      }, 1000);
    });
  </script>
</body>
</html>